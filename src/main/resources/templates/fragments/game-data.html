<!-- -*- coding: utf-8 -*- -->
<div th:fragment="game-data"
     xmlns:th="http://www.thymeleaf.org"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.thymeleaf.org">

    <h3>–î–µ–Ω—å <span th:text="${game.currentDay}"></span>
        <span th:if="${#lists.isEmpty(game.players)}">–ù–µ—Ç –∏–≥—Ä–æ–∫–æ–≤</span>
        <span th:unless="${#lists.isEmpty(game.players)}">
            –•–æ–¥ –∏–≥—Ä–æ–∫–∞: <span th:text="${game.players[game.currentTurn].name}"></span>
        </span>
    </h3>

    <div class="clearfix">
        <div th:each="player, iterStat : ${game.players}"
             th:class="'player-card ' + (${iterStat.index} == ${game.currentTurn} ? 'active' : '')">

            <h2 th:text="${player.name}"></h2>
            <p>üí∞ –ù–∞–ª–∏—á–Ω—ã–µ: <b th:text="${#numbers.formatDecimal(player.cash, 1, 2)}"></b> ‚Ç¥</p>
            <p>üíº –ó–∞—Ä–ø–ª–∞—Ç–∞: <b th:text="${#numbers.formatDecimal(player.salary, 1, 2)}"></b> ‚Ç¥</p>
            <p>üìâ –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: <b th:text="${#numbers.formatDecimal(player.monthlyExpenses, 1, 2)}"></b> ‚Ç¥</p>
            <p>üìà –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥: <b th:text="${#numbers.formatDecimal(passiveIncomes[iterStat.index], 1, 2)}"></b> ‚Ç¥</p>

            <h4>–ü–∞—Å—Å–∏–≤—ã:</h4>
            <table>
                <thead>
                <tr>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–ü–ª–∞—Ç—ë–∂</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p : ${player.liabilities}">
                    <td th:text="${p.name}"></td>
                    <td th:text="${#numbers.formatDecimal(p.monthlyPayment, 1, 2)}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
